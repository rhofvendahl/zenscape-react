(this["webpackJsonpzenscape-react"]=this["webpackJsonpzenscape-react"]||[]).push([[0],{13:function(e,t,a){},8:function(e,t,a){"use strict";a.r(t);var i=a(3),n=a(4),s=a(6),o=a(5),r=a(1),c=a.n(r),l=a(7),p=a.n(l),h=(a(13),a(0));function d(e){return Object(h.jsxs)("div",{className:"stripe",children:[Object(h.jsx)("div",{className:"logo",children:"ZS"}),Object(h.jsx)("div",{className:"guide",children:"[click]"})]})}function m(e){var t="translate3d(".concat(e.translate.x,"px, ").concat(e.translate.y,"px, ").concat(e.translate.z,"px)")+" rotateX(".concat(e.rotate.x,"deg) rotateY(").concat(e.rotate.y,"deg) rotateZ(").concat(e.rotate.z,"deg)");return Object(h.jsx)("div",{className:"".concat(e.shade," face object"),style:{width:e.width,height:e.height,marginLeft:-e.width/2,marginTop:-e.height/2,transform:t,backgroundColor:e.color}})}function u(e){return Object(h.jsxs)("div",{className:"".concat(e.boxName," box object"),onClick:e.handleClick,children:[Object(h.jsx)(m,{color:e.pallete.light,width:e.dimensions.x,height:e.dimensions.z,translate:{x:e.coordinates.x+e.dimensions.x/2,y:-(e.coordinates.y+e.dimensions.y),z:e.coordinates.z+e.dimensions.z/2},rotate:{x:90,y:0,z:0}}),Object(h.jsx)(m,{color:e.pallete.medium,width:e.dimensions.x,height:e.dimensions.y,translate:{x:e.coordinates.x+e.dimensions.x/2,y:-(e.coordinates.y+e.dimensions.y/2),z:e.coordinates.z+e.dimensions.z},rotate:{x:0,y:0,z:0}})]})}var g=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"getPallete",value:function(e){return e<=.2*3?{light:"#4081f2",medium:"#346dc7",dark:"#275799"}:e<=.3*3?{light:"#FFF089",medium:"#C1B367",dark:"#817847"}:e<=.6*3?{light:"#2aa330",medium:"#1f8c28",dark:"#106e1f"}:e<=3?{light:"#BEBEBE",medium:"#8E8E8E",dark:"#606060"}:{light:"#FFFFFF",medium:"#BEBEBE",dark:"#7F7F7F"}}},{key:"render",value:function(){for(var e=this,t=[],a=0;a<this.props.map.length;a++)for(var i=function(i){var n=a+"-"+i;t.push(Object(h.jsx)(u,{boxName:n,dimensions:{x:e.props.cellSize,y:e.props.cellSize,z:e.props.cellSize},coordinates:{x:a*e.props.cellSize,y:e.props.map[a][i]*e.props.cellSize,z:i*e.props.cellSize},handleClick:function(){return e.props.handleClick(n)},pallete:e.getPallete(e.props.map[a][i])},n))},n=0;n<this.props.map[0].length;n++)i(n);return Object(h.jsxs)("div",{className:"scape object",style:{marginLeft:-this.props.map.length*this.props.cellSize/2+"px",marginTop:-this.props.map[0].length*this.props.cellSize/2+"px",transform:"rotateX(-27deg)"},children:[t,Object(h.jsx)(u,{className:"base",dimensions:{x:this.props.map.length*this.props.cellSize,y:this.props.cellSize,z:this.props.map[0].length*this.props.cellSize},coordinates:{x:0,y:1.5*-this.props.cellSize,z:0},pallete:{light:"#9e9c9c",medium:"#807f7e",dark:"#4f4e4e"}})]})}}]),a}(c.a.Component),f=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).xCells=20,n.zCells=20,n.cellSize=20,n.state={clickLog:[[5,6,Date.now()],[5,6,Date.now()],[14,14,Date.now()+500],[16,4,Date.now()+1e3]],map:new Array(n.xCells).fill(0).map((function(){return new Array(n.zCells).fill(0)}))},n.memory=5,n.updateTimer=void 0,n.updateInterval=100,n}return Object(n.a)(a,[{key:"handleClick",value:function(e){var t=[parseInt(e.split("-")[0]),parseInt(e.split("-")[1]),Date.now()];this.setState({clickLog:this.state.clickLog.concat([t])}),console.log(this.state.clickLog)}},{key:"updateMap",value:function(){for(var e=this,t=new Array(this.xCells).fill(0).map((function(){return new Array(e.zCells).fill(0)})),a=0;a<t.length;a++)for(var i=0;i<t[0].length;i++)for(var n=0;n<this.memory&&n<this.state.clickLog.length;n++){var s=this.state.clickLog[this.state.clickLog.length-1-n],o=(Date.now()-s[2])/1e3,r=Math.pow(Math.pow(a-s[0],2)+Math.pow(i-s[1],2),.5);Math.abs(r/2-o)<Math.PI&&(t[a][i]+=(Math.cos(r/2-o)+1)/2)}this.setState({map:t})}},{key:"componentDidMount",value:function(){var e=this;this.updateTimer=setInterval((function(){e.updateMap()}),this.updateInterval)}},{key:"componentWillUnmount",value:function(){clearInterval(this.updateTimer)}},{key:"render",value:function(){var e=this;return Object(h.jsx)(g,{cellSize:this.cellSize,handleClick:function(t){return e.handleClick(t)},map:this.state.map})}}]),a}(c.a.Component);p.a.render(Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(d,{}),Object(h.jsx)(f,{}),","]}),document.getElementById("root"))}},[[8,1,2]]]);
//# sourceMappingURL=main.12469a47.chunk.js.map