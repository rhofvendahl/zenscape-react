(this["webpackJsonpzenscape-react"]=this["webpackJsonpzenscape-react"]||[]).push([[0],{10:function(e,t,a){},11:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(4),r=a.n(i),s=a(0),o=function(e){return Object(s.jsxs)("div",{className:"stripe",children:[Object(s.jsx)("div",{className:"logo",children:"ZS"}),Object(s.jsx)("div",{className:"guide",children:"[click]"})]})},l=a(3),d=function(e){var t="translate3d(".concat(e.translate.x,"px, ").concat(e.translate.y,"px, ").concat(e.translate.z,"px)")+" rotateX(".concat(e.rotate.x,"deg) rotateY(").concat(e.rotate.y,"deg) rotateZ(").concat(e.rotate.z,"deg)");return Object(s.jsx)("div",{className:"".concat(e.shade," face object"),style:{width:e.width,height:e.height,marginLeft:-e.width/2,marginTop:-e.height/2,transform:t,backgroundColor:e.color}})},h=function(e){return Object(s.jsxs)("div",{className:"".concat(e.boxName," box object"),onClick:e.handleClick,children:[Object(s.jsx)(d,{color:e.pallete.light,width:e.dimensions.x,height:e.dimensions.z,translate:{x:e.coordinates.x+e.dimensions.x/2,y:-(e.coordinates.y+e.dimensions.y),z:e.coordinates.z+e.dimensions.z/2},rotate:{x:90,y:0,z:0}}),Object(s.jsx)(d,{color:e.pallete.medium,width:e.dimensions.x,height:e.dimensions.y,translate:{x:e.coordinates.x+e.dimensions.x/2,y:-(e.coordinates.y+e.dimensions.y/2),z:e.coordinates.z+e.dimensions.z},rotate:{x:0,y:0,z:0}})]})},u={WATER:{light:"#4081f2",medium:"#346dc7",dark:"#275799"},SAND:{light:"#FFF089",medium:"#C1B367",dark:"#817847"},FOLIAGE:{light:"#2aa330",medium:"#1f8c28",dark:"#106e1f"},ROCK:{light:"#BEBEBE",medium:"#8E8E8E",dark:"#606060"},SNOW:{light:"#FFFFFF",medium:"#BEBEBE",dark:"#7F7F7F"},BASE:{light:"#9e9c9c",medium:"#807f7e",dark:"#4f4e4e"}};var p=function(e){for(var t=[],a=0;a<e.scapeMap.length;a++)for(var n=function(n){var c,i=a+"-"+n;t.push(Object(s.jsx)(h,{boxName:i,dimensions:{x:e.cellSize,y:e.cellSize,z:e.cellSize},coordinates:{x:a*e.cellSize,y:e.scapeMap[a][n]*e.cellSize,z:n*e.cellSize},handleClick:function(){return e.handleClick(i)},pallete:(c=e.scapeMap[a][n],c<=.2*3?u.WATER:c<=.3*3?u.SAND:c<=.6*3?u.FOLIAGE:c<=3?u.ROCK:u.SNOW)},i))},c=0;c<e.scapeMap[0].length;c++)n(c);return Object(s.jsxs)("div",{className:"scape object",style:{marginLeft:-e.scapeMap.length*e.cellSize/2+"px",marginTop:-e.scapeMap[0].length*e.cellSize/2+"px",transform:"rotateX(-27deg)"},children:[t,Object(s.jsx)(h,{className:"base",dimensions:{x:e.scapeMap.length*e.cellSize,y:e.cellSize,z:e.scapeMap[0].length*e.cellSize},coordinates:{x:0,y:1.5*-e.cellSize,z:0},pallete:u.BASE})]})},m=20,f=20,j=20,x=5,g=100,b=function(e){var t=Object(n.useState)([[5,6,Date.now()],[5,6,Date.now()],[14,14,Date.now()+500],[16,4,Date.now()+1e3]]),a=Object(l.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(new Array(m).fill(0).map((function(){return new Array(f).fill(0)}))),o=Object(l.a)(r,2),d=o[0],h=o[1],u=Object(n.useCallback)((function(){for(var e=new Array(m).fill(0).map((function(){return new Array(f).fill(0)})),t=0;t<e.length;t++)for(var a=0;a<e[0].length;a++)for(var n=0;n<x&&n<c.length;n++){var i=c[c.length-1-n],r=(Date.now()-i[2])/1e3,s=Math.pow(Math.pow(t-i[0],2)+Math.pow(a-i[1],2),.5);Math.abs(s/2-r)<Math.PI&&(e[t][a]+=(Math.cos(s/2-r)+1)/2)}h(e)}),[c]),b=Object(n.useRef)(u);return Object(n.useEffect)((function(){b.current=u}),[u]),Object(n.useEffect)((function(){var e=setInterval((function(){b.current()}),g);return function(){clearInterval(e)}}),[]),Object(s.jsx)(p,{cellSize:j,handleClick:function(e){return function(e){var t=[parseInt(e.split("-")[0]),parseInt(e.split("-")[1]),Date.now()];i(c.concat([t]))}(e)},scapeMap:d})};a(10);r.a.render(Object(s.jsxs)(c.a.Fragment,{children:[Object(s.jsx)(o,{}),Object(s.jsx)(b,{}),","]}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.63c3565e.chunk.js.map