(this["webpackJsonpzenscape-react"]=this["webpackJsonpzenscape-react"]||[]).push([[0],{14:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n.n(c),o=n(3),s=n(0),r=(n(14),n(1)),i=function(e){return Object(r.jsx)("div",{className:"stripe",children:Object(r.jsxs)("div",{className:"stripe-contents",children:[Object(r.jsx)("div",{className:"stripe-logo",children:"ZS"}),Object(r.jsx)("button",{className:"controls-toggle",onClick:function(){return e.toggleControls()},children:"[controls]"})]})})},l=n(5),u=(n(19),n(20),function(e){var t=e.className,n=e.handlers,c=e.values,a=e.limits,o=e.reset;return Object(r.jsx)("div",{className:t,children:Object(r.jsxs)("div",{className:"controls-contents",children:[Object(r.jsxs)("div",{className:"control control-size",children:[Object(r.jsx)("div",{className:"control-label",children:"size"}),Object(r.jsx)(l.a,{onChange:n.onSizeChange,value:c.size,step:.01,min:a.SIZE.MIN,max:a.SIZE.MAX})]}),Object(r.jsxs)("div",{className:"control control-height",children:[Object(r.jsx)("div",{className:"control-label",children:"height"}),Object(r.jsx)(l.a,{onChange:n.onHeightChange,value:c.height,step:.01,min:a.HEIGHT.MIN,max:a.HEIGHT.MAX})]}),Object(r.jsxs)("div",{className:"control control-width",children:[Object(r.jsx)("div",{className:"control-label",children:"width"}),Object(r.jsx)(l.a,{onChange:n.onWidthChange,value:c.width,step:.01,min:a.WIDTH.MIN,max:a.WIDTH.MAX})]}),Object(r.jsxs)("div",{className:"control control-speed",children:[Object(r.jsx)("div",{className:"control-label",children:"speed"}),Object(r.jsx)(l.a,{onChange:n.onSpeedChange,value:c.speed,step:.01,min:a.SPEED.MIN,max:a.SPEED.MAX})]}),Object(r.jsx)("div",{className:"controls-reset",onClick:function(){return o()},children:"[reset]"})]})})}),d=function(e){var t=e.translate,n=e.rotate,c=e.width,a=e.height,o=e.backgroundColor,s=e.borderRadius,i="translate3d(".concat(t.x,"px, ").concat(t.y,"px, ").concat(t.z,"px)")+" rotateX(".concat(n.x,"deg) rotateY(").concat(n.y,"deg) rotateZ(").concat(n.z,"deg)");return Object(r.jsx)("div",{className:"face object",style:{width:c,height:a,marginLeft:-c/2,marginTop:-a/2,transform:i,backgroundColor:o,borderRadius:s}})},h=function(e){var t=e.boxName,n=e.handleClick,c=e.pallete,a=e.dimensions,o=e.coordinates,s=e.roundCorners,i=a.y/8+"px";return Object(r.jsxs)("div",{className:"".concat(t," box object"),onMouseDown:n,children:[Object(r.jsx)(d,{backgroundColor:c.light,width:a.x,height:a.z,translate:{x:o.x+a.x/2,y:-(o.y+a.y),z:o.z+a.z/2},rotate:{x:90,y:0,z:0},borderRadius:"".concat(s.backTopLeft?i:"0"," ").concat(s.backTopRight?i:"0"," 0 0")}),Object(r.jsx)(d,{backgroundColor:c.medium,width:a.x,height:a.y,translate:{x:o.x+a.x/2,y:-(o.y+a.y/2),z:o.z+a.z},rotate:{x:0,y:0,z:0},borderRadius:"0 0 ".concat(s.frontBottomRight?i:"0"," ").concat(s.frontBottomLeft?i:"0")})]})},j={WATER:{light:"#4081F2",medium:"#346dC7",dark:"#275799"},SAND:{light:"#FFF089",medium:"#C1B367",dark:"#817847"},FOLIAGE:{light:"#2AA330",medium:"#1F8C28",dark:"#106E1F"},ROCK:{light:"#BEBEBE",medium:"#8E8E8E",dark:"#606060"},SNOW:{light:"#FFFFFF",medium:"#BEBEBE",dark:"#7F7F7F"},BASE:{light:"#9D9D9D",medium:"#7F7F7F",dark:"#4E4E4E"}},b=function(e){for(var t=e.scapeMap,n=e.cellSize,c=e.handleClick,a=[],o=0;o<t.length;o++)for(var s=function(e){var s,i=o+"-"+e,l={backTopLeft:0==o&&0==e||t[o][e],backTopRight:o==t.length-1&&0==e||t[o][e],frontBottomLeft:0==o&&e==t[0].length-1||t[o][e],frontBottomRight:o==t.length-1&&e==t[0].length-1||t[o][e]};a.push(Object(r.jsx)(h,{boxName:i,dimensions:{x:n,y:n,z:n},coordinates:{x:o*n,y:t[o][e]*n,z:e*n},handleClick:function(){return c(i)},pallete:(s=t[o][e],s<=.2*3?j.WATER:s<=.3*3?j.SAND:s<=.6*3?j.FOLIAGE:s<=3?j.ROCK:j.SNOW),roundCorners:l},i))},i=0;i<t[0].length;i++)s(i);return Object(r.jsxs)("div",{className:"scape object",style:{marginLeft:-t.length*n/2+"px",marginTop:-t[0].length*n/2+"px",transform:"rotateX(-30deg)",top:"50%"},children:[a,Object(r.jsx)(h,{className:"base",dimensions:{x:t.length*n,y:n,z:t[0].length*n},coordinates:{x:0,y:1.5*-n,z:0},pallete:j.BASE,roundCorners:{backTopLeft:!0,backTopRight:!0,frontBottomLeft:!0,frontBottomRight:!0}})]})},f=(n(21),function(e){var t=e.xCells,n=e.zCells,c=e.cellSize,a=e.clickMemory,i=e.updateInterval,l=e.wave,u=Object(s.useState)([[5,6,Date.now()],[5,6,Date.now()],[14,14,Date.now()+500],[16,4,Date.now()+1e3]]),d=Object(o.a)(u,2),h=d[0],j=d[1],f=Object(s.useState)(new Array(t).fill(0).map((function(){return new Array(n).fill(0)}))),m=Object(o.a)(f,2),O=m[0],g=m[1],x=Object(s.useCallback)((function(){for(var e=new Array(t).fill(0).map((function(){return new Array(n).fill(0)})),c=0;c<e.length;c++)for(var o=0;o<e[0].length;o++)for(var s=0;s<a&&s<h.length;s++){var r=h[h.length-1-s],i=(Date.now()-r[2])/1e3,u=Math.pow(Math.pow(c-r[0],2)+Math.pow(o-r[1],2),.5),d=Math.abs(u/2-i*l.speed)/l.width;d<Math.PI&&(e[c][o]+=(Math.cos(d)+1)/2*l.height)}g(e)}),[a,h,t,n,l]),p=Object(s.useRef)(x);return Object(s.useEffect)((function(){p.current=x}),[x,t,n]),Object(s.useEffect)((function(){var e=setInterval((function(){p.current()}),i);return function(){clearInterval(e)}}),[i]),Object(r.jsx)("div",{className:"scape-manager",children:Object(r.jsx)(b,{cellSize:c,handleClick:function(e){return function(e){var t=[parseInt(e.split("-")[0]),parseInt(e.split("-")[1]),Date.now()];j(h.concat([t]))}(e)},scapeMap:O})})}),m=(n(22),20),O=20,g=20,x=5,p=100,v=1,N=1,C=1,E={SIZE:{MIN:10,MAX:40},HEIGHT:{MIN:.25,MAX:2},WIDTH:{MIN:.5,MAX:2},SPEED:{MIN:.1,MAX:10}},S=function(){var e=Object(s.useState)(m),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(O),l=Object(o.a)(a,2),d=l[0],h=l[1],j=Object(s.useState)(g),b=Object(o.a)(j,2),S=b[0],w=b[1],M=Object(s.useState)(x),k=Object(o.a)(M,2),z=k[0],I=(k[1],Object(s.useState)(p)),y=Object(o.a)(I,2),A=y[0],F=(y[1],Object(s.useState)(v)),D=Object(o.a)(F,2),T=D[0],R=D[1],B=Object(s.useState)(N),H=Object(o.a)(B,2),L=H[0],X=H[1],W=Object(s.useState)(C),G=Object(o.a)(W,2),Z=G[0],P=G[1],J=Object(s.useState)(null),K=Object(o.a)(J,2),Y=K[0],q=K[1],Q=Object(s.useState)(!1),U=Object(o.a)(Q,2),V=U[0],$=U[1],_=Object(s.useRef)(Y);Object(s.useEffect)((function(){_.current=Y}),[Y]);var ee=Object(s.useCallback)((function(){var e=Y;q(!e),e?$(!1):setTimeout((function(){_.current&&$(!0)}),1e3)}),[Y]),te=Object(s.useRef)(ee);Object(s.useEffect)((function(){te.current=ee}),[ee]),Object(s.useEffect)((function(){setTimeout((function(){null==_.current&&te.current()}),2e3)}),[]);var ne={onSizeChange:function(e){w(Math.round(400/e)),c(Math.round(e)),h(Math.round(e))},onHeightChange:function(e){R(e)},onWidthChange:function(e){X(e)},onSpeedChange:function(e){P(e)}};return Object(r.jsxs)("div",{className:"app",children:[Object(r.jsxs)("div",{className:"viewport",children:[Object(r.jsx)(i,{toggleControls:ee}),Object(r.jsx)(f,{xCells:n,zCells:d,cellSize:S,clickMemory:z,updateInterval:A,wave:{height:T,width:L,speed:Z}}),Object(r.jsx)("div",{className:"guide-wrapper",children:Object(r.jsx)("div",{className:"guide",children:"^ click scape ^"})})]}),Object(r.jsx)(u,{className:function(){var e="controls";return V?"controls controls-removed":null==Y?"controls controls-initial":Y?"controls controls-hidden":e}(),handlers:ne,values:{size:n,height:T,width:L,speed:Z},limits:E,reset:function(){c(m),h(O),w(g),R(v),X(N),P(C)}})]})};n(23);a.a.render(Object(r.jsx)(S,{}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.4e9f2361.chunk.js.map