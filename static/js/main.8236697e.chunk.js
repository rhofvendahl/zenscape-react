(this["webpackJsonpzenscape-react"]=this["webpackJsonpzenscape-react"]||[]).push([[0],{14:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n.n(c),o=n(3),r=n(0),s=(n(14),n(1)),l=function(e){return Object(s.jsx)("div",{className:"stripe",children:Object(s.jsxs)("div",{className:"stripe-contents",children:[Object(s.jsx)("div",{className:"stripe-logo",children:"ZS"}),Object(s.jsx)("button",{className:"controls-toggle",onClick:function(){return e.toggleControls()},children:"[controls]"})]})})},i=n(5),u=(n(19),n(20),function(e){var t=e.className,n=e.onSizeChange,c=e.onHeightChange,a=e.onWidthChange,o=e.onSpeedChange,r=e.sizeValue,l=e.waveValues,u=e.resetControls;return Object(s.jsx)("div",{className:t,children:Object(s.jsxs)("div",{className:"controls-contents",children:[Object(s.jsxs)("div",{className:"control control-size",children:[Object(s.jsx)("div",{className:"control-label",children:"size"}),Object(s.jsx)(i.a,{onChange:n,value:r})]}),Object(s.jsxs)("div",{className:"control control-height",children:[Object(s.jsx)("div",{className:"control-label",children:"height"}),Object(s.jsx)(i.a,{onChange:c,value:l.height})]}),Object(s.jsxs)("div",{className:"control control-width",children:[Object(s.jsx)("div",{className:"control-label",children:"width"}),Object(s.jsx)(i.a,{onChange:a,value:l.width})]}),Object(s.jsxs)("div",{className:"control control-speed",children:[Object(s.jsx)("div",{className:"control-label",children:"speed"}),Object(s.jsx)(i.a,{onChange:o,value:l.speed})]}),Object(s.jsx)("div",{className:"controls-reset",onClick:function(){return u()},children:"[reset]"})]})})}),d=function(e){var t=e.translate,n=e.rotate,c=e.width,a=e.height,o=e.backgroundColor,r=e.borderRadius,l="translate3d(".concat(t.x,"px, ").concat(t.y,"px, ").concat(t.z,"px)")+" rotateX(".concat(n.x,"deg) rotateY(").concat(n.y,"deg) rotateZ(").concat(n.z,"deg)");return Object(s.jsx)("div",{className:"face object",style:{width:c,height:a,marginLeft:-c/2,marginTop:-a/2,transform:l,backgroundColor:o,borderRadius:r}})},h=function(e){var t=e.boxName,n=e.handleClick,c=e.pallete,a=e.dimensions,o=e.coordinates,r=e.roundCorners,l=a.y/8+"px";return Object(s.jsxs)("div",{className:"".concat(t," box object"),onMouseDown:n,children:[Object(s.jsx)(d,{backgroundColor:c.light,width:a.x,height:a.z,translate:{x:o.x+a.x/2,y:-(o.y+a.y),z:o.z+a.z/2},rotate:{x:90,y:0,z:0},borderRadius:"".concat(r.backTopLeft?l:"0"," ").concat(r.backTopRight?l:"0"," 0 0")}),Object(s.jsx)(d,{backgroundColor:c.medium,width:a.x,height:a.y,translate:{x:o.x+a.x/2,y:-(o.y+a.y/2),z:o.z+a.z},rotate:{x:0,y:0,z:0},borderRadius:"0 0 ".concat(r.frontBottomRight?l:"0"," ").concat(r.frontBottomLeft?l:"0")})]})},j={WATER:{light:"#4081F2",medium:"#346dC7",dark:"#275799"},SAND:{light:"#FFF089",medium:"#C1B367",dark:"#817847"},FOLIAGE:{light:"#2AA330",medium:"#1F8C28",dark:"#106E1F"},ROCK:{light:"#BEBEBE",medium:"#8E8E8E",dark:"#606060"},SNOW:{light:"#FFFFFF",medium:"#BEBEBE",dark:"#7F7F7F"},BASE:{light:"#9D9D9D",medium:"#7F7F7F",dark:"#4E4E4E"}},b=function(e){for(var t=e.scapeMap,n=e.cellSize,c=e.handleClick,a=[],o=0;o<t.length;o++)for(var r=function(e){var r,l=o+"-"+e,i={backTopLeft:0==o&&0==e||t[o][e],backTopRight:o==t.length-1&&0==e||t[o][e],frontBottomLeft:0==o&&e==t[0].length-1||t[o][e],frontBottomRight:o==t.length-1&&e==t[0].length-1||t[o][e]};a.push(Object(s.jsx)(h,{boxName:l,dimensions:{x:n,y:n,z:n},coordinates:{x:o*n,y:t[o][e]*n,z:e*n},handleClick:function(){return c(l)},pallete:(r=t[o][e],r<=.2*3?j.WATER:r<=.3*3?j.SAND:r<=.6*3?j.FOLIAGE:r<=3?j.ROCK:j.SNOW),roundCorners:i},l))},l=0;l<t[0].length;l++)r(l);return Object(s.jsxs)("div",{className:"scape object",style:{marginLeft:-t.length*n/2+"px",marginTop:-t[0].length*n/2+"px",transform:"rotateX(-30deg)",top:"50%"},children:[a,Object(s.jsx)(h,{className:"base",dimensions:{x:t.length*n,y:n,z:t[0].length*n},coordinates:{x:0,y:1.5*-n,z:0},pallete:j.BASE,roundCorners:{backTopLeft:!0,backTopRight:!0,frontBottomLeft:!0,frontBottomRight:!0}})]})},f=(n(21),function(e){var t=e.xCells,n=e.zCells,c=e.cellSize,a=e.clickMemory,l=e.updateInterval,i=e.wave,u=Object(r.useState)([[5,6,Date.now()],[5,6,Date.now()],[14,14,Date.now()+500],[16,4,Date.now()+1e3]]),d=Object(o.a)(u,2),h=d[0],j=d[1],f=Object(r.useState)(new Array(t).fill(0).map((function(){return new Array(n).fill(0)}))),O=Object(o.a)(f,2),g=O[0],m=O[1],x=Object(r.useCallback)((function(){for(var e=new Array(t).fill(0).map((function(){return new Array(n).fill(0)})),c=0;c<e.length;c++)for(var o=0;o<e[0].length;o++)for(var r=0;r<a&&r<h.length;r++){var s=h[h.length-1-r],l=(Date.now()-s[2])/1e3,u=Math.pow(Math.pow(c-s[0],2)+Math.pow(o-s[1],2),.5),d=Math.abs(u/2-l*i.speed)/i.width;d<Math.PI&&(e[c][o]+=(Math.cos(d)+1)/2*i.height)}m(e)}),[a,h,t,n,i]),p=Object(r.useRef)(x);return Object(r.useEffect)((function(){p.current=x}),[x,t,n]),Object(r.useEffect)((function(){var e=setInterval((function(){p.current()}),l);return function(){clearInterval(e)}}),[l]),Object(s.jsx)("div",{className:"scape-manager",children:Object(s.jsx)(b,{cellSize:c,handleClick:function(e){return function(e){var t=[parseInt(e.split("-")[0]),parseInt(e.split("-")[1]),Date.now()];j(h.concat([t]))}(e)},scapeMap:g})})}),O=(n(22),20),g=20,m=20,x=5,p=100,v=1,C=1,w=1,N=function(){var e=Object(r.useState)(O),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(g),i=Object(o.a)(a,2),d=i[0],h=i[1],j=Object(r.useState)(m),b=Object(o.a)(j,2),N=b[0],k=b[1],z=Object(r.useState)(x),S=Object(o.a)(z,2),y=S[0],E=(S[1],Object(r.useState)(p)),F=Object(o.a)(E,2),M=F[0],R=(F[1],Object(r.useState)(v)),B=Object(o.a)(R,2),A=B[0],D=B[1],T=Object(r.useState)(C),I=Object(o.a)(T,2),L=I[0],W=I[1],V=Object(r.useState)(w),G=Object(o.a)(V,2),H=G[0],J=G[1],K=Object(r.useState)(null),X=Object(o.a)(K,2),Z=X[0],P=X[1],Y=Object(r.useState)(!1),q=Object(o.a)(Y,2),Q=q[0],U=q[1],$=Object(r.useRef)(Z);Object(r.useEffect)((function(){$.current=Z}),[Z]);var _=Object(r.useCallback)((function(){var e=Z;P(!e),e?U(!1):setTimeout((function(){$.current&&U(!0)}),1e3)}),[Z]),ee=Object(r.useRef)(_);Object(r.useEffect)((function(){ee.current=_}),[_]),Object(r.useEffect)((function(){setTimeout((function(){null==$.current&&ee.current()}),2e3)}),[]);var te=Math.round((n-10)/30*100),ne=.25,ce=Math.round((A-ne)/1.75*100),ae=.5,oe=Math.round((L-ae)/1.5*100),re=.1,se=Math.round((H-re)/9.9*100);return Object(s.jsxs)("div",{className:"app",children:[Object(s.jsxs)("div",{className:"viewport",children:[Object(s.jsx)(l,{toggleControls:_}),Object(s.jsx)(f,{xCells:n,zCells:d,cellSize:N,clickMemory:y,updateInterval:M,wave:{height:A,width:L,speed:H}}),Object(s.jsx)("div",{className:"guide-wrapper",children:Object(s.jsx)("div",{className:"guide",children:"^ click scape ^"})})]}),Object(s.jsx)(u,{className:function(){var e="controls";return Q?"controls controls-removed":null==Z?"controls controls-initial":Z?"controls controls-hidden":e}(),onSizeChange:function(e){var t=10+30*(e/100);k(Math.round(400/t)),c(Math.round(t)),h(Math.round(t))},onHeightChange:function(e){D(ne+1.75*(e/100))},onWidthChange:function(e){W(ae+1.5*(e/100))},onSpeedChange:function(e){J(re+9.9*(e/100))},sizeValue:te,waveValues:{height:ce,width:oe,speed:se},resetControls:function(){c(O),h(g),k(m),D(v),W(C),J(w)}})]})};n(23);a.a.render(Object(s.jsx)(N,{}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.8236697e.chunk.js.map