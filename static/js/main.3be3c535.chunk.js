(this["webpackJsonpzenscape-react"]=this["webpackJsonpzenscape-react"]||[]).push([[0],{14:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n.n(c),s=n(3),o=n(0),r=(n(14),n(1)),l=function(e){return Object(r.jsx)("div",{className:"stripe",onClick:function(){return e.toggleControls()},children:Object(r.jsxs)("div",{className:"stripe-contents",children:[Object(r.jsx)("div",{className:"logo",children:"ZS"}),Object(r.jsx)("button",{className:"controls-toggle",children:"[controls]"})]})})},i=n(5),u=(n(19),n(20),function(e){var t=e.className,n=e.onSizeChange,c=e.onHeightChange,a=e.onWidthChange,s=e.onSpeedChange,o=e.sizeValue,l=e.waveValues,u=e.resetControls;return Object(r.jsx)("div",{className:t,children:Object(r.jsxs)("div",{className:"controls-contents",children:[Object(r.jsxs)("div",{className:"control control-size",children:[Object(r.jsx)("div",{className:"control-label",children:"size"}),Object(r.jsx)(i.a,{onChange:n,value:o})]}),Object(r.jsxs)("div",{className:"control control-height",children:[Object(r.jsx)("div",{className:"control-label",children:"height"}),Object(r.jsx)(i.a,{onChange:c,value:l.height})]}),Object(r.jsxs)("div",{className:"control control-width",children:[Object(r.jsx)("div",{className:"control-label",children:"width"}),Object(r.jsx)(i.a,{onChange:a,value:l.width})]}),Object(r.jsxs)("div",{className:"control control-speed",children:[Object(r.jsx)("div",{className:"control-label",children:"speed"}),Object(r.jsx)(i.a,{onChange:s,value:l.speed})]}),Object(r.jsx)("div",{className:"controls-reset",onClick:function(){return u()},children:"[reset]"})]})})}),d=function(e){var t=e.translate,n=e.rotate,c=e.width,a=e.height,s=e.backgroundColor,o="translate3d(".concat(t.x,"px, ").concat(t.y,"px, ").concat(t.z,"px)")+" rotateX(".concat(n.x,"deg) rotateY(").concat(n.y,"deg) rotateZ(").concat(n.z,"deg)");return Object(r.jsx)("div",{className:"face object",style:{width:c,height:a,marginLeft:-c/2,marginTop:-a/2,transform:o,backgroundColor:s}})},j=function(e){var t=e.boxName,n=e.handleClick,c=e.pallete,a=e.dimensions,s=e.coordinates;return Object(r.jsxs)("div",{className:"".concat(t," box object"),onMouseDown:n,children:[Object(r.jsx)(d,{backgroundColor:c.light,width:a.x,height:a.z,translate:{x:s.x+a.x/2,y:-(s.y+a.y),z:s.z+a.z/2},rotate:{x:90,y:0,z:0}}),Object(r.jsx)(d,{backgroundColor:c.medium,width:a.x,height:a.y,translate:{x:s.x+a.x/2,y:-(s.y+a.y/2),z:s.z+a.z},rotate:{x:0,y:0,z:0}})]})},h={WATER:{light:"#4081F2",medium:"#346dC7",dark:"#275799"},SAND:{light:"#FFF089",medium:"#C1B367",dark:"#817847"},FOLIAGE:{light:"#2AA330",medium:"#1F8C28",dark:"#106E1F"},ROCK:{light:"#BEBEBE",medium:"#8E8E8E",dark:"#606060"},SNOW:{light:"#FFFFFF",medium:"#BEBEBE",dark:"#7F7F7F"},BASE:{light:"#9D9D9D",medium:"#7F7F7F",dark:"#4E4E4E"}},b=function(e){for(var t=e.scapeMap,n=e.cellSize,c=e.handleClick,a=[],s=0;s<t.length;s++)for(var o=function(e){var o,l=s+"-"+e;a.push(Object(r.jsx)(j,{boxName:l,dimensions:{x:n,y:n,z:n},coordinates:{x:s*n,y:t[s][e]*n,z:e*n},handleClick:function(){return c(l)},pallete:(o=t[s][e],o<=.2*3?h.WATER:o<=.3*3?h.SAND:o<=.6*3?h.FOLIAGE:o<=3?h.ROCK:h.SNOW)},l))},l=0;l<t[0].length;l++)o(l);return Object(r.jsxs)("div",{className:"scape object",style:{marginLeft:-t.length*n/2+"px",marginTop:-t[0].length*n/2+"px",transform:"rotateX(-30deg)",top:"50%"},children:[a,Object(r.jsx)(j,{className:"base",dimensions:{x:t.length*n,y:n,z:t[0].length*n},coordinates:{x:0,y:1.5*-n,z:0},pallete:h.BASE})]})},O=(n(21),function(e){var t=e.xCells,n=e.zCells,c=e.cellSize,a=e.clickMemory,l=e.updateInterval,i=e.wave,u=Object(o.useState)([[5,6,Date.now()],[5,6,Date.now()],[14,14,Date.now()+500],[16,4,Date.now()+1e3]]),d=Object(s.a)(u,2),j=d[0],h=d[1],O=Object(o.useState)(new Array(t).fill(0).map((function(){return new Array(n).fill(0)}))),f=Object(s.a)(O,2),g=f[0],x=f[1],m=Object(o.useCallback)((function(){for(var e=new Array(t).fill(0).map((function(){return new Array(n).fill(0)})),c=0;c<e.length;c++)for(var s=0;s<e[0].length;s++)for(var o=0;o<a&&o<j.length;o++){var r=j[j.length-1-o],l=(Date.now()-r[2])/1e3,u=Math.pow(Math.pow(c-r[0],2)+Math.pow(s-r[1],2),.5),d=Math.abs(u/2-l*i.speed)/i.width;d<Math.PI&&(e[c][s]+=(Math.cos(d)+1)/2*i.height)}x(e)}),[a,j,t,n,i]),v=Object(o.useRef)(m);return Object(o.useEffect)((function(){v.current=m}),[m,t,n]),Object(o.useEffect)((function(){var e=setInterval((function(){v.current()}),l);return function(){clearInterval(e)}}),[l]),Object(r.jsx)("div",{className:"scape-manager",children:Object(r.jsx)(b,{cellSize:c,handleClick:function(e){return function(e){var t=[parseInt(e.split("-")[0]),parseInt(e.split("-")[1]),Date.now()];h(j.concat([t]))}(e)},scapeMap:g})})}),f=(n(22),20),g=20,x=20,m=5,v=100,p=1,C=1,w=1,N=function(){var e=Object(o.useState)(f),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(o.useState)(g),i=Object(s.a)(a,2),d=i[0],j=i[1],h=Object(o.useState)(x),b=Object(s.a)(h,2),N=b[0],z=b[1],S=Object(o.useState)(m),E=Object(s.a)(S,2),y=E[0],k=(E[1],Object(o.useState)(v)),F=Object(s.a)(k,2),M=F[0],A=(F[1],Object(o.useState)(p)),D=Object(s.a)(A,2),B=D[0],I=D[1],R=Object(o.useState)(C),T=Object(s.a)(R,2),W=T[0],L=T[1],V=Object(o.useState)(w),G=Object(s.a)(V,2),H=G[0],J=G[1],K=Object(o.useState)(null),X=Object(s.a)(K,2),Z=X[0],P=X[1],Y=Object(o.useState)(!1),q=Object(s.a)(Y,2),Q=q[0],U=q[1],$=Object(o.useRef)(Z);Object(o.useEffect)((function(){$.current=Z}),[Z]);var _=Object(o.useCallback)((function(){var e=Z;P(!e),e?U(!1):setTimeout((function(){$.current&&U(!0)}),1e3)}),[Z]),ee=Object(o.useRef)(_);Object(o.useEffect)((function(){ee.current=_}),[_]),Object(o.useEffect)((function(){setTimeout((function(){null==$.current&&ee.current()}),2e3)}),[]);var te=Math.round((n-10)/30*100),ne=.25,ce=Math.round((B-ne)/1.75*100),ae=.5,se=Math.round((W-ae)/1.5*100),oe=.1,re=Math.round((H-oe)/9.9*100);return Object(r.jsxs)("div",{className:"app",children:[Object(r.jsxs)("div",{className:"viewport",children:[Object(r.jsx)(l,{toggleControls:_}),Object(r.jsx)(O,{xCells:n,zCells:d,cellSize:N,clickMemory:y,updateInterval:M,wave:{height:B,width:W,speed:H}}),Object(r.jsx)("div",{className:"guide-wrapper",children:Object(r.jsx)("div",{className:"guide",children:"^ click scape ^"})})]}),Object(r.jsx)(u,{className:function(){var e="controls";return Q?"controls controls-removed":null==Z?"controls controls-initial":Z?"controls controls-hidden":e}(),onSizeChange:function(e){var t=10+30*(e/100);z(Math.round(400/t)),c(Math.round(t)),j(Math.round(t))},onHeightChange:function(e){I(ne+1.75*(e/100))},onWidthChange:function(e){L(ae+1.5*(e/100))},onSpeedChange:function(e){J(oe+9.9*(e/100))},sizeValue:te,waveValues:{height:ce,width:se,speed:re},resetControls:function(){c(f),j(g),z(x),I(p),L(C),J(w)}})]})};n(23);a.a.render(Object(r.jsx)(N,{}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.3be3c535.chunk.js.map